##Mean CompeitionMeasure By Corporation
df$Competition=df(df$CompetitionMeasure!=0)
aggregate(df$CompetitionMeasure,list(Corporation=df$Corporation,Date=df$Date),mean,na.rm=TRUE)
x=dplyr::select(df,CompetitionFreeMeasure,CompetitionCombineMeasure,ControlledCirculation,NatlLineRate,TotalCombineCirculationByMarket,TotalControlledCirculationByMarket,'Age characteristics Average age of the population Character','Labour force status Employment rate Character','Population and dwellings Population density per square kilometre Character','Population and dwellings Population; 2016 Character','Income of individuals in 2015 Average total income in 2015 among recipients ($) Character',PercentageTotalShare,RateByCirculation,
'Family characteristics Total - Census families in private households by family size - 100% data Character')
z=cor(x,use = "pairwise.complete.obs")
write.csv(z, "C:/Users/lenovo/Dropbox/IO project/RegressionRcode/RegressionResult/CorMatrix.csv")
library("readxl")
library("xlsx")
library("plyr")
library("dplyr")
library(magrittr)
library("Hmisc")
library("raster")
library("data.table")
df=read_excel("C:/Users/lenovo/Dropbox/IO project/PerfectFuzzyDataL/SufficentVariationOrNotEntryExit/MergedWithTotalFreeShareNoBundle/ContainBothNoBundleFreeNewspaperCompetitionMeasureMergedOneIssuePerWeekDemographic.xlsx")
count(df,"Lowner")
count(df,"Market")
df$Corporation=df$Lowner=="metroland media group ltd."|df$Lowner=="london publishing corporation"|df$Lowner=="postmedia network inc."|df$Lowner=="sun media corporation"
df$PercentageTotalShare=df$ControlledCirculation/df$TotalControlledCirculationByMarket
df$PercentageTotalShare=replace(df$PercentageTotalShare, is.infinite(df$PercentageTotalShare), NA)
df$PercentageTotalShare[df$PercentageTotalShare>=1] <- NA
df$RateByCirculation=df$NatlLineRate/df$ControlledCirculation
df$CompetitionFreeMeasure=df$CompetitorFreeCirculation/df$'Family characteristics Total - Census families in private households by family size - 100% data Character'
df$CompetitionCombineMeasure=df$CompetitorCombineCirculation/df$'Family characteristics Total - Census families in private households by family size - 100% data Character'
aggregate(df$NatlLineRate, list(Corporation=df$Corporation,Date=df$Date), mean, na.rm=TRUE)
aggregate(df$ControlledCirculation,list(Corporation=df$Corporation,Date=df$Date),mean,na.rm=TRUE)
aggregate(df$NatlLineRate, list(Lowner=df$Lowner,Date=df$Date), mean, na.rm=TRUE)
aggregate(df$ControlledCirculation,list(Lowner=df$Lowner,Date=df$Date),mean,na.rm=TRUE)
##Mean CompeitionMeasure By Lowner ####
aggregate(df$CompetitorFreeCirculation,list(Lowner=df$Lowner,Date=df$Date),mean,na.rm=TRUE)
##Mean CompeitionMeasure By Corporation
df$Competition=df(df$CompetitionMeasure!=0)
aggregate(df$CompetitionMeasure,list(Corporation=df$Corporation,Date=df$Date),mean,na.rm=TRUE)
x=dplyr::select(df,CompetitionFreeMeasure,CompetitionCombineMeasure,ControlledCirculation,NatlLineRate,TotalCombineCirculationByMarket,TotalControlledCirculationByMarket,'Age characteristics Average age of the population Character','Labour force status Employment rate Character','Population and dwellings Population density per square kilometre Character','Population and dwellings Population; 2016 Character','Income of individuals in 2015 Average total income in 2015 among recipients ($) Character',PercentageTotalShare,RateByCirculation,
'Family characteristics Total - Census families in private households by family size - 100% data Character')
z=cor(x,use = "pairwise.complete.obs")
write.csv(z, "C:/Users/lenovo/Dropbox/IO project/SummaryStatistics/RegressionResult/CorMatrix.csv")
library("readxl")
library("xlsx")
library("plyr")
library("dplyr")
library(magrittr)
library("Hmisc")
library("raster")
library("data.table")
df=read_excel("C:/Users/lenovo/Dropbox/IO project/PerfectFuzzyDataL/SufficentVariationOrNotEntryExit/MergedWithTotalFreeShareNoBundle/ContainBothNoBundleFreeNewspaperCompetitionMeasureMergedOneIssuePerWeekDemographic.xlsx")
count(df,"Lowner")
count(df,"Market")
df$Corporation=df$Lowner=="metroland media group ltd."|df$Lowner=="london publishing corporation"|df$Lowner=="postmedia network inc."|df$Lowner=="sun media corporation"
df$PercentageTotalShare=df$ControlledCirculation/df$TotalControlledCirculationByMarket
df$PercentageTotalShare=replace(df$PercentageTotalShare, is.infinite(df$PercentageTotalShare), NA)
df$PercentageTotalShare[df$PercentageTotalShare>=1] <- NA
df$RateByCirculation=df$NatlLineRate/df$ControlledCirculation
df$CompetitionFreeMeasure=df$CompetitorFreeCirculation/df$'Family characteristics Total - Census families in private households by family size - 100% data Character'
df$CompetitionCombineMeasure=df$CompetitorCombineCirculation/df$'Family characteristics Total - Census families in private households by family size - 100% data Character'
aggregate(df$NatlLineRate, list(Corporation=df$Corporation,Date=df$Date), mean, na.rm=TRUE)
aggregate(df$ControlledCirculation,list(Corporation=df$Corporation,Date=df$Date),mean,na.rm=TRUE)
aggregate(df$NatlLineRate, list(Lowner=df$Lowner,Date=df$Date), mean, na.rm=TRUE)
aggregate(df$ControlledCirculation,list(Lowner=df$Lowner,Date=df$Date),mean,na.rm=TRUE)
##Mean CompeitionMeasure By Lowner ####
aggregate(df$CompetitorFreeCirculation,list(Lowner=df$Lowner,Date=df$Date),mean,na.rm=TRUE)
library("readxl")
library("xlsx")
library("plyr")
library("dplyr")
library(magrittr)
library("Hmisc")
library("raster")
library("data.table")
df=read_excel("C:/Users/lenovo/Dropbox/IO project/PerfectFuzzyDataL/SufficentVariationOrNotEntryExit/MergedWithTotalFreeShareNoBundle/ContainBothNoBundleFreeNewspaperCompetitionMeasureMergedOneIssuePerWeekDemographic.xlsx")
count(df,"Lowner")
count(df,"Market")
df$Corporation=df$Lowner=="metroland media group ltd."|df$Lowner=="london publishing corporation"|df$Lowner=="postmedia network inc."|df$Lowner=="sun media corporation"
df$PercentageTotalShare=df$ControlledCirculation/df$TotalControlledCirculationByMarket
df$PercentageTotalShare=replace(df$PercentageTotalShare, is.infinite(df$PercentageTotalShare), NA)
df$PercentageTotalShare[df$PercentageTotalShare>=1] <1
df$PercentageTotalShare
df$PercentageTotalShare>=1
df$Corporation=df$Lowner=="metroland media group ltd."|df$Lowner=="london publishing corporation"|df$Lowner=="postmedia network inc."|df$Lowner=="sun media corporation"
df$PercentageTotalShare=df$ControlledCirculation/df$TotalControlledCirculationByMarket
df$PercentageTotalShare
df$PercentageTotalShare=replace(df$PercentageTotalShare, is.nan(df$PercentageTotalShare), NA)
df$PercentageTotalShare
df$PercentageTotalShare[df$PercentageTotalShare>=1] <-1
df$PercentageTotalShare
df$PercentageTotalShare[df$PercentageTotalShare>1] = 1
df$PercentageTotalShare
df$RateByCirculation=df$NatlLineRate/df$ControlledCirculation
df$RateByCirculation
df$RateByCirculation=replace(df$RateByCirculation,is.infinite(df$RateByCirculation),NA)
df$RateByCirculation
df$CompetitionFreeMeasure=df$CompetitorFreeCirculation/df$'Family characteristics Total - Census families in private households by family size - 100% data Character'
df$CompetitionCombineMeasure=df$CompetitorCombineCirculation/df$'Family characteristics Total - Census families in private households by family size - 100% data Character'
aggregate(df$NatlLineRate, list(Corporation=df$Corporation,Date=df$Date), mean, na.rm=TRUE)
aggregate(df$ControlledCirculation,list(Corporation=df$Corporation,Date=df$Date),mean,na.rm=TRUE)
aggregate(df$NatlLineRate, list(Lowner=df$Lowner,Date=df$Date), mean, na.rm=TRUE)
aggregate(df$ControlledCirculation,list(Lowner=df$Lowner,Date=df$Date),mean,na.rm=TRUE)
aggregate(df$CompetitorFreeCirculation,list(Lowner=df$Lowner,Date=df$Date),mean,na.rm=TRUE)
df$Competition=df(df$CompetitionMeasure!=0)
df$Competition=df[df$CompetitionMeasure!=0]
df$Competition=df(df$CompetitionFreeMeasure!=0)
df$Competition=df[df$CompetitionFreeMeasure!=0]
aggregate(df$CompetitionFreeMeasure,list(Corporation=df$Corporation,Date=df$Date),mean,na.rm=TRUE)
x=dplyr::select(df,CompetitionFreeMeasure,ControlledCirculation,NatlLineRate,TotalControlledCirculationByMarket,'Age characteristics Average age of the population Character','Labour force status Employment rate Character','Population and dwellings Population density per square kilometre Character','Population and dwellings Population; 2016 Character','Income of individuals in 2015 Average total income in 2015 among recipients ($) Character',PercentageTotalShare,RateByCirculation,
'Family characteristics Total - Census families in private households by family size - 100% data Character')
z=cor(x,use = "pairwise.complete.obs")
write.csv(z, "C:/Users/lenovo/Dropbox/IO project/SummaryStatistics/RegressionResult/CorMatrix.csv")
library("readxl")
library("xlsx")
library("plyr")
library("dplyr")
library(magrittr)
library("Hmisc")
library("raster")
library("data.table")
df=read_excel("C:/Users/lenovo/Dropbox/IO project/PerfectFuzzyDataL/SufficentVariationOrNotEntryExit/MergedWithTotalFreeShareNoBundle/FreeContainBothNoBundleFreeNewspaperCompetitionMeasureMergedOneIssuePerWeekDemographic.xlsx")
count(df,"Lowner")
count(df,"Market")
df$Corporation=df$Lowner=="metroland media group ltd."|df$Lowner=="london publishing corporation"|df$Lowner=="postmedia network inc."|df$Lowner=="sun media corporation"
df$PercentageTotalShare=df$ControlledCirculation/df$TotalControlledCirculationByMarket
df$PercentageTotalShare=replace(df$PercentageTotalShare, is.nan(df$PercentageTotalShare), NA)
df$PercentageTotalShare[df$PercentageTotalShare>1] = 1
df$RateByCirculation=df$NatlLineRate/df$ControlledCirculation
df$RateByCirculation=replace(df$RateByCirculation,is.infinite(df$RateByCirculation),NA)
df$CompetitionFreeMeasure=df$CompetitorFreeCirculation/df$'Family characteristics Total - Census families in private households by family size - 100% data Character'
df$CompetitionCombineMeasure=df$CompetitorCombineCirculation/df$'Family characteristics Total - Census families in private households by family size - 100% data Character'
aggregate(df$NatlLineRate, list(Corporation=df$Corporation,Date=df$Date), mean, na.rm=TRUE)
aggregate(df$ControlledCirculation,list(Corporation=df$Corporation,Date=df$Date),mean,na.rm=TRUE)
aggregate(df$NatlLineRate, list(Lowner=df$Lowner,Date=df$Date), mean, na.rm=TRUE)
aggregate(df$ControlledCirculation,list(Lowner=df$Lowner,Date=df$Date),mean,na.rm=TRUE)
##Mean CompeitionMeasure By Lowner ####
aggregate(df$CompetitorFreeCirculation,list(Lowner=df$Lowner,Date=df$Date),mean,na.rm=TRUE)
##Mean CompeitionMeasure By Corporation
aggregate(df$CompetitionFreeMeasure,list(Corporation=df$Corporation,Date=df$Date),mean,na.rm=TRUE)
x=dplyr::select(df,CompetitionFreeMeasure,ControlledCirculation,NatlLineRate,TotalControlledCirculationByMarket,'Age characteristics Average age of the population Character','Labour force status Employment rate Character','Population and dwellings Population density per square kilometre Character','Population and dwellings Population; 2016 Character','Income of individuals in 2015 Average total income in 2015 among recipients ($) Character',PercentageTotalShare,RateByCirculation,
'Family characteristics Total - Census families in private households by family size - 100% data Character')
z=cor(x,use = "pairwise.complete.obs")
write.csv(z, "C:/Users/lenovo/Dropbox/IO project/SummaryStatistics/RegressionResult/CorMatrix.csv")
library("readxl")
library("xlsx")
library("plyr")
library("dplyr")
library(magrittr)
library("Hmisc")
library("raster")
library("data.table")
df=read_excel("C:/Users/lenovo/Dropbox/IO project/PerfectFuzzyDataL/SufficentVariationOrNotEntryExit/MergedWithTotalFreeShareNoBundle/FreeContainBothNoBundleFreeNewspaperCompetitionMeasureMergedOneIssuePerWeekDemographic.xlsx")
count(df,"Lowner")
count(df,"Market")
df$Corporation=df$Lowner=="metroland media group ltd."|df$Lowner=="london publishing corporation"|df$Lowner=="postmedia network inc."|df$Lowner=="sun media corporation"
df$PercentageTotalShare=df$ControlledCirculation/df$TotalFreeCirculationByMarket
df$PercentageTotalShare=replace(df$PercentageTotalShare, is.nan(df$PercentageTotalShare), NA)
df$PercentageTotalShare[df$PercentageTotalShare>1] = 1
df$RateByCirculation=df$NatlLineRate/df$ControlledCirculation
df$RateByCirculation=replace(df$RateByCirculation,is.infinite(df$RateByCirculation),NA)
df$CompetitionFreeMeasure=df$CompetitorFreeCirculation/df$'Family characteristics Total - Census families in private households by family size - 100% data Character'
df$CompetitionCombineMeasure=df$CompetitorCombineCirculation/df$'Family characteristics Total - Census families in private households by family size - 100% data Character'
aggregate(df$NatlLineRate, list(Corporation=df$Corporation,Date=df$Date), mean, na.rm=TRUE)
aggregate(df$ControlledCirculation,list(Corporation=df$Corporation,Date=df$Date),mean,na.rm=TRUE)
aggregate(df$NatlLineRate, list(Lowner=df$Lowner,Date=df$Date), mean, na.rm=TRUE)
aggregate(df$ControlledCirculation,list(Lowner=df$Lowner,Date=df$Date),mean,na.rm=TRUE)
##Mean CompeitionMeasure By Lowner ####
aggregate(df$CompetitorFreeCirculation,list(Lowner=df$Lowner,Date=df$Date),mean,na.rm=TRUE)
##Mean CompeitionMeasure By Corporation
aggregate(df$CompetitionFreeMeasure,list(Corporation=df$Corporation,Date=df$Date),mean,na.rm=TRUE)
x=dplyr::select(df,CompetitionFreeMeasure,ControlledCirculation,NatlLineRate,TotalControlledCirculationByMarket,'Age characteristics Average age of the population Character','Labour force status Employment rate Character','Population and dwellings Population density per square kilometre Character','Population and dwellings Population; 2016 Character','Income of individuals in 2015 Average total income in 2015 among recipients ($) Character',PercentageTotalShare,RateByCirculation,
'Family characteristics Total - Census families in private households by family size - 100% data Character')
z=cor(x,use = "pairwise.complete.obs")
library("readxl")
library("xlsx")
library("plyr")
library("dplyr")
library(magrittr)
library("Hmisc")
library("raster")
library("data.table")
df=read_excel("C:/Users/lenovo/Dropbox/IO project/PerfectFuzzyDataL/SufficentVariationOrNotEntryExit/MergedWithTotalFreeShareNoBundle/FreeContainBothNoBundleFreeNewspaperCompetitionMeasureMergedOneIssuePerWeekDemographic.xlsx")
count(df,"Lowner")
count(df,"Market")
df$Corporation=df$Lowner=="metroland media group ltd."|df$Lowner=="london publishing corporation"|df$Lowner=="postmedia network inc."|df$Lowner=="sun media corporation"
df$PercentageTotalShare=df$ControlledCirculation/df$TotalFreeCirculationByMarket
df$PercentageTotalShare=replace(df$PercentageTotalShare, is.nan(df$PercentageTotalShare), NA)
df$PercentageTotalShare[df$PercentageTotalShare>1] = 1
df$RateByCirculation=df$NatlLineRate/df$ControlledCirculation
df$RateByCirculation=replace(df$RateByCirculation,is.infinite(df$RateByCirculation),NA)
df$CompetitionFreeMeasure=df$CompetitorFreeCirculation/df$'Family characteristics Total - Census families in private households by family size - 100% data Character'
df$CompetitionCombineMeasure=df$CompetitorCombineCirculation/df$'Family characteristics Total - Census families in private households by family size - 100% data Character'
aggregate(df$NatlLineRate, list(Corporation=df$Corporation,Date=df$Date), mean, na.rm=TRUE)
aggregate(df$ControlledCirculation,list(Corporation=df$Corporation,Date=df$Date),mean,na.rm=TRUE)
aggregate(df$NatlLineRate, list(Lowner=df$Lowner,Date=df$Date), mean, na.rm=TRUE)
aggregate(df$ControlledCirculation,list(Lowner=df$Lowner,Date=df$Date),mean,na.rm=TRUE)
##Mean CompeitionMeasure By Lowner ####
aggregate(df$CompetitorFreeCirculation,list(Lowner=df$Lowner,Date=df$Date),mean,na.rm=TRUE)
##Mean CompeitionMeasure By Corporation
aggregate(df$CompetitionFreeMeasure,list(Corporation=df$Corporation,Date=df$Date),mean,na.rm=TRUE)
x=dplyr::select(df,CompetitionFreeMeasure,ControlledCirculation,NatlLineRate,TotalFreeCirculationByMarket,'Age characteristics Average age of the population Character','Labour force status Employment rate Character','Population and dwellings Population density per square kilometre Character','Population and dwellings Population; 2016 Character','Income of individuals in 2015 Average total income in 2015 among recipients ($) Character',PercentageTotalShare,RateByCirculation,
'Family characteristics Total - Census families in private households by family size - 100% data Character')
z=cor(x,use = "pairwise.complete.obs")
write.csv(z, "C:/Users/lenovo/Dropbox/IO project/SummaryStatistics/RegressionResult/CorMatrix.csv")
library("readxl")
library("xlsx")
library("plyr")
library("dplyr")
library(magrittr)
library("Hmisc")
library("raster")
library("data.table")
df=read_excel("C:/Users/lenovo/Dropbox/IO project/PerfectFuzzyDataL/SufficentVariationOrNotEntryExit/MergedWithTotalFreeShareNoBundle/FreeContainBothNoBundleFreeNewspaperCompetitionMeasureMergedOneIssuePerWeekDemographic.xlsx")
count(df,"Lowner")
count(df,"Market")
df$Corporation=df$Lowner=="metroland media group ltd."|df$Lowner=="london publishing corporation"|df$Lowner=="postmedia network inc."|df$Lowner=="sun media corporation"
df$PercentageTotalShare=df$ControlledCirculation/df$TotalFreeCirculationByMarket
df$PercentageTotalShare=replace(df$PercentageTotalShare, is.nan(df$PercentageTotalShare), NA)
df$PercentageTotalShare[df$PercentageTotalShare>1] = 1
df$RateByCirculation=df$NatlLineRate/df$ControlledCirculation
df$RateByCirculation=replace(df$RateByCirculation,is.infinite(df$RateByCirculation),NA)
df$CompetitionFreeMeasure=df$CompetitorFreeCirculation/df$'Family characteristics Total - Census families in private households by family size - 100% data Character'
aggregate(df$NatlLineRate, list(Corporation=df$Corporation,Date=df$Date), mean, na.rm=TRUE)
aggregate(df$ControlledCirculation,list(Corporation=df$Corporation,Date=df$Date),mean,na.rm=TRUE)
aggregate(df$NatlLineRate, list(Lowner=df$Lowner,Date=df$Date), mean, na.rm=TRUE)
aggregate(df$ControlledCirculation,list(Lowner=df$Lowner,Date=df$Date),mean,na.rm=TRUE)
##Mean CompeitionMeasure By Lowner ####
aggregate(df$CompetitorFreeCirculation,list(Lowner=df$Lowner,Date=df$Date),mean,na.rm=TRUE)
##Mean CompeitionMeasure By Corporation
aggregate(df$CompetitionFreeMeasure,list(Corporation=df$Corporation,Date=df$Date),mean,na.rm=TRUE)
x=dplyr::select(df,CompetitionFreeMeasure,ControlledCirculation,NatlLineRate,TotalFreeCirculationByMarket,'Age characteristics Average age of the population Character','Labour force status Employment rate Character','Population and dwellings Population density per square kilometre Character','Population and dwellings Population; 2016 Character','Income of individuals in 2015 Average total income in 2015 among recipients ($) Character',PercentageTotalShare,RateByCirculation,
'Family characteristics Total - Census families in private households by family size - 100% data Character')
z=cor(x,use = "pairwise.complete.obs")
write.csv(z, "C:/Users/lenovo/Dropbox/IO project/SummaryStatistics/RegressionResult/CorMatrix.csv")
library("readxl")
library("xlsx")
library("plyr")
library("dplyr")
library(magrittr)
library("Hmisc")
library("raster")
library("data.table")
df=read_excel("C:/Users/lenovo/Dropbox/IO project/PerfectFuzzyDataL/SufficentVariationOrNotEntryExit/MergedWithTotalFreeShareNoBundle/FreeContainBothNoBundleFreeNewspaperCompetitionMeasureMergedOneIssuePerWeekDemographic.xlsx")
count(df,"Lowner")
count(df,"Market")
df$Corporation=df$Lowner=="metroland media group ltd."|df$Lowner=="london publishing corporation"|df$Lowner=="postmedia network inc."|df$Lowner=="sun media corporation"
df$PercentageTotalShare=df$ControlledCirculation/df$TotalFreeCirculationByMarket
df$PercentageTotalShare=replace(df$PercentageTotalShare, is.nan(df$PercentageTotalShare), NA)
df$PercentageTotalShare[df$PercentageTotalShare>1] = 1
df$RateByCirculation=df$NatlLineRate/df$ControlledCirculation
df$RateByCirculation=replace(df$RateByCirculation,is.infinite(df$RateByCirculation),NA)
df$CompetitionFreeMeasure=df$CompetitorFreeCirculation/df$'Family characteristics Total - Census families in private households by family size - 100% data Character'
aggregate(df$NatlLineRate, list(Corporation=df$Corporation,Date=df$Date), mean, na.rm=TRUE)
aggregate(df$ControlledCirculation,list(Corporation=df$Corporation,Date=df$Date),mean,na.rm=TRUE)
aggregate(df$NatlLineRate, list(Lowner=df$Lowner,Date=df$Date), mean, na.rm=TRUE)
aggregate(df$ControlledCirculation,list(Lowner=df$Lowner,Date=df$Date),mean,na.rm=TRUE)
##Mean CompeitionMeasure By Lowner ####
aggregate(df$CompetitorFreeCirculation,list(Lowner=df$Lowner,Date=df$Date),mean,na.rm=TRUE)
##Mean CompeitionMeasure By Corporation
aggregate(df$CompetitionFreeMeasure,list(Corporation=df$Corporation,Date=df$Date),mean,na.rm=TRUE)
x=dplyr::select(df,CompetitionFreeMeasure,df$Corporation,ControlledCirculation,NatlLineRate,TotalFreeCirculationByMarket,'Age characteristics Average age of the population Character','Labour force status Employment rate Character','Population and dwellings Population density per square kilometre Character','Population and dwellings Population; 2016 Character','Income of individuals in 2015 Average total income in 2015 among recipients ($) Character',PercentageTotalShare,RateByCirculation,
'Family characteristics Total - Census families in private households by family size - 100% data Character')
z=cor(x,use = "pairwise.complete.obs")
write.csv(z, "C:/Users/lenovo/Dropbox/IO project/SummaryStatistics/RegressionResult/CorMatrix.csv")
df$Corporatio
df$Corporation
df$Corporation=df$Lowner=="metroland media group ltd."|df$Lowner=="london publishing corporation"|df$Lowner=="postmedia network inc."|df$Lowner=="sun media corporation"
df$CorDummy=0
df$CorDummy[df$Corporation]=1
df$CorDummy=0
df$Corporation=df$Lowner=="metroland media group ltd."|df$Lowner=="london publishing corporation"|df$Lowner=="postmedia network inc."|df$Lowner=="sun media corporation"
df$CorDummy=0
df$CorDummy[df$Corporation]=1
df$PercentageTotalShare=df$ControlledCirculation/df$TotalFreeCirculationByMarket
df$CorDummy
df$Corporation
library("readxl")
library("xlsx")
library("plyr")
library("dplyr")
library(magrittr)
library("Hmisc")
library("raster")
library("data.table")
df=read_excel("C:/Users/lenovo/Dropbox/IO project/PerfectFuzzyDataL/SufficentVariationOrNotEntryExit/MergedWithTotalFreeShareNoBundle/FreeContainBothNoBundleFreeNewspaperCompetitionMeasureMergedOneIssuePerWeekDemographic.xlsx")
count(df,"Lowner")
count(df,"Market")
df$Corporation=df$Lowner=="metroland media group ltd."|df$Lowner=="london publishing corporation"|df$Lowner=="postmedia network inc."|df$Lowner=="sun media corporation"
df$CorDummy=0
df$CorDummy[df$Corporation]=1
df$PercentageTotalShare=df$ControlledCirculation/df$TotalFreeCirculationByMarket
df$PercentageTotalShare=replace(df$PercentageTotalShare, is.nan(df$PercentageTotalShare), NA)
df$PercentageTotalShare[df$PercentageTotalShare>1] = 1
df$RateByCirculation=df$NatlLineRate/df$ControlledCirculation
df$RateByCirculation=replace(df$RateByCirculation,is.infinite(df$RateByCirculation),NA)
df$CompetitionFreeMeasure=df$CompetitorFreeCirculation/df$'Family characteristics Total - Census families in private households by family size - 100% data Character'
aggregate(df$NatlLineRate, list(Corporation=df$Corporation,Date=df$Date), mean, na.rm=TRUE)
aggregate(df$ControlledCirculation,list(Corporation=df$Corporation,Date=df$Date),mean,na.rm=TRUE)
aggregate(df$NatlLineRate, list(Lowner=df$Lowner,Date=df$Date), mean, na.rm=TRUE)
aggregate(df$ControlledCirculation,list(Lowner=df$Lowner,Date=df$Date),mean,na.rm=TRUE)
##Mean CompeitionMeasure By Lowner ####
aggregate(df$CompetitorFreeCirculation,list(Lowner=df$Lowner,Date=df$Date),mean,na.rm=TRUE)
##Mean CompeitionMeasure By Corporation
aggregate(df$CompetitionFreeMeasure,list(Corporation=df$Corporation,Date=df$Date),mean,na.rm=TRUE)
x=dplyr::select(df$CompetitionFreeMeasure,df$CorDummy,ControlledCirculation,NatlLineRate,TotalFreeCirculationByMarket,'Age characteristics Average age of the population Character','Labour force status Employment rate Character','Population and dwellings Population density per square kilometre Character','Population and dwellings Population; 2016 Character','Income of individuals in 2015 Average total income in 2015 among recipients ($) Character',PercentageTotalShare,RateByCirculation,
'Family characteristics Total - Census families in private households by family size - 100% data Character')
z=cor(x,use = "pairwise.complete.obs")
write.csv(z, "C:/Users/lenovo/Dropbox/IO project/SummaryStatistics/RegressionResult/CorMatrix.csv")
x=dplyr::select(df$CompetitionFreeMeasure,df$CorDummy,ControlledCirculation,NatlLineRate,TotalFreeCirculationByMarket,'Age characteristics Average age of the population Character','Labour force status Employment rate Character','Population and dwellings Population density per square kilometre Character','Population and dwellings Population; 2016 Character','Income of individuals in 2015 Average total income in 2015 among recipients ($) Character',PercentageTotalShare,RateByCirculation,
'Family characteristics Total - Census families in private households by family size - 100% data Character')
x=dplyr::select(df$CompetitionFreeMeasure,ControlledCirculation,NatlLineRate,TotalFreeCirculationByMarket,'Age characteristics Average age of the population Character','Labour force status Employment rate Character','Population and dwellings Population density per square kilometre Character','Population and dwellings Population; 2016 Character','Income of individuals in 2015 Average total income in 2015 among recipients ($) Character',PercentageTotalShare,RateByCirculation,
'Family characteristics Total - Census families in private households by family size - 100% data Character')
x=dplyr::select(CompetitionFreeMeasure,CorDummy,ControlledCirculation,NatlLineRate,TotalFreeCirculationByMarket,'Age characteristics Average age of the population Character','Labour force status Employment rate Character','Population and dwellings Population density per square kilometre Character','Population and dwellings Population; 2016 Character','Income of individuals in 2015 Average total income in 2015 among recipients ($) Character',PercentageTotalShare,RateByCirculation,
'Family characteristics Total - Census families in private households by family size - 100% data Character')
library("readxl")
library("xlsx")
library("plyr")
library("dplyr")
library(magrittr)
library("Hmisc")
library("raster")
library("data.table")
df=read_excel("C:/Users/lenovo/Dropbox/IO project/PerfectFuzzyDataL/SufficentVariationOrNotEntryExit/MergedWithTotalFreeShareNoBundle/FreeContainBothNoBundleFreeNewspaperCompetitionMeasureMergedOneIssuePerWeekDemographic.xlsx")
count(df,"Lowner")
count(df,"Market")
df$Corporation=df$Lowner=="metroland media group ltd."|df$Lowner=="london publishing corporation"|df$Lowner=="postmedia network inc."|df$Lowner=="sun media corporation"
df$CorDummy=0
df$CorDummy[df$Corporation]=1
df$PercentageTotalShare=df$ControlledCirculation/df$TotalFreeCirculationByMarket
df$PercentageTotalShare=replace(df$PercentageTotalShare, is.nan(df$PercentageTotalShare), NA)
df$PercentageTotalShare[df$PercentageTotalShare>1] = 1
df$RateByCirculation=df$NatlLineRate/df$ControlledCirculation
df$RateByCirculation=replace(df$RateByCirculation,is.infinite(df$RateByCirculation),NA)
df$CompetitionFreeMeasure=df$CompetitorFreeCirculation/df$'Family characteristics Total - Census families in private households by family size - 100% data Character'
aggregate(df$NatlLineRate, list(Corporation=df$Corporation,Date=df$Date), mean, na.rm=TRUE)
aggregate(df$ControlledCirculation,list(Corporation=df$Corporation,Date=df$Date),mean,na.rm=TRUE)
aggregate(df$NatlLineRate, list(Lowner=df$Lowner,Date=df$Date), mean, na.rm=TRUE)
aggregate(df$ControlledCirculation,list(Lowner=df$Lowner,Date=df$Date),mean,na.rm=TRUE)
##Mean CompeitionMeasure By Lowner ####
aggregate(df$CompetitorFreeCirculation,list(Lowner=df$Lowner,Date=df$Date),mean,na.rm=TRUE)
##Mean CompeitionMeasure By Corporation
aggregate(df$CompetitionFreeMeasure,list(Corporation=df$Corporation,Date=df$Date),mean,na.rm=TRUE)
x=dplyr::select(CompetitionFreeMeasure,CorDummy,ControlledCirculation,NatlLineRate,TotalFreeCirculationByMarket,'Age characteristics Average age of the population Character','Labour force status Employment rate Character','Population and dwellings Population density per square kilometre Character','Population and dwellings Population; 2016 Character','Income of individuals in 2015 Average total income in 2015 among recipients ($) Character',PercentageTotalShare,RateByCirculation,
'Family characteristics Total - Census families in private households by family size - 100% data Character')
z=cor(x,use = "pairwise.complete.obs")
library("readxl")
library("xlsx")
library("plyr")
library("dplyr")
library(magrittr)
library("Hmisc")
library("raster")
library("data.table")
df=read_excel("C:/Users/lenovo/Dropbox/IO project/PerfectFuzzyDataL/SufficentVariationOrNotEntryExit/MergedWithTotalFreeShareNoBundle/FreeContainBothNoBundleFreeNewspaperCompetitionMeasureMergedOneIssuePerWeekDemographic.xlsx")
count(df,"Lowner")
count(df,"Market")
df$Corporation=df$Lowner=="metroland media group ltd."|df$Lowner=="london publishing corporation"|df$Lowner=="postmedia network inc."|df$Lowner=="sun media corporation"
df$CorDummy=0
df$CorDummy[df$Corporation]=1
df$PercentageTotalShare=df$ControlledCirculation/df$TotalFreeCirculationByMarket
df$PercentageTotalShare=replace(df$PercentageTotalShare, is.nan(df$PercentageTotalShare), NA)
df$PercentageTotalShare[df$PercentageTotalShare>1] = 1
df$RateByCirculation=df$NatlLineRate/df$ControlledCirculation
df$RateByCirculation=replace(df$RateByCirculation,is.infinite(df$RateByCirculation),NA)
df$CompetitionFreeMeasure=df$CompetitorFreeCirculation/df$'Family characteristics Total - Census families in private households by family size - 100% data Character'
df$CompetitionFreeMeasure=df$CompetitorFreeCirculation/df$'Family characteristics Total - Census families in private households by family size - 100% data Character'
aggregate(df$NatlLineRate, list(Corporation=df$Corporation,Date=df$Date), mean, na.rm=TRUE)
aggregate(df$ControlledCirculation,list(Corporation=df$Corporation,Date=df$Date),mean,na.rm=TRUE)
aggregate(df$NatlLineRate, list(Lowner=df$Lowner,Date=df$Date), mean, na.rm=TRUE)
aggregate(df$ControlledCirculation,list(Lowner=df$Lowner,Date=df$Date),mean,na.rm=TRUE)
##Mean CompeitionMeasure By Lowner ####
aggregate(df$CompetitorFreeCirculation,list(Lowner=df$Lowner,Date=df$Date),mean,na.rm=TRUE)
##Mean CompeitionMeasure By Corporation
aggregate(df$CompetitionFreeMeasure,list(Corporation=df$Corporation,Date=df$Date),mean,na.rm=TRUE)
x=dplyr::select(CompetitionFreeMeasure,CorDummy,ControlledCirculation,NatlLineRate,TotalFreeCirculationByMarket,'Age characteristics Average age of the population Character','Labour force status Employment rate Character','Population and dwellings Population density per square kilometre Character','Population and dwellings Population; 2016 Character','Income of individuals in 2015 Average total income in 2015 among recipients ($) Character',PercentageTotalShare,RateByCirculation,
'Family characteristics Total - Census families in private households by family size - 100% data Character')
x=dplyr::select(df,CompetitionFreeMeasure,CorDummy,ControlledCirculation,NatlLineRate,TotalFreeCirculationByMarket,'Age characteristics Average age of the population Character','Labour force status Employment rate Character','Population and dwellings Population density per square kilometre Character','Population and dwellings Population; 2016 Character','Income of individuals in 2015 Average total income in 2015 among recipients ($) Character',PercentageTotalShare,RateByCirculation,
'Family characteristics Total - Census families in private households by family size - 100% data Character')
library("readxl")
library("xlsx")
library("plyr")
library("dplyr")
library(magrittr)
library("Hmisc")
library("raster")
library("data.table")
df=read_excel("C:/Users/lenovo/Dropbox/IO project/PerfectFuzzyDataL/SufficentVariationOrNotEntryExit/MergedWithTotalFreeShareNoBundle/FreeContainBothNoBundleFreeNewspaperCompetitionMeasureMergedOneIssuePerWeekDemographic.xlsx")
count(df,"Lowner")
count(df,"Market")
df$Corporation=df$Lowner=="metroland media group ltd."|df$Lowner=="london publishing corporation"|df$Lowner=="postmedia network inc."|df$Lowner=="sun media corporation"
df$CorDummy=0
df$CorDummy[df$Corporation]=1
df$PercentageTotalShare=df$ControlledCirculation/df$TotalFreeCirculationByMarket
df$PercentageTotalShare=replace(df$PercentageTotalShare, is.nan(df$PercentageTotalShare), NA)
df$PercentageTotalShare[df$PercentageTotalShare>1] = 1
df$RateByCirculation=df$NatlLineRate/df$ControlledCirculation
df$RateByCirculation=replace(df$RateByCirculation,is.infinite(df$RateByCirculation),NA)
df$CompetitionFreeMeasure=df$CompetitorFreeCirculation/df$'Family characteristics Total - Census families in private households by family size - 100% data Character'
aggregate(df$NatlLineRate, list(Corporation=df$Corporation,Date=df$Date), mean, na.rm=TRUE)
aggregate(df$ControlledCirculation,list(Corporation=df$Corporation,Date=df$Date),mean,na.rm=TRUE)
aggregate(df$NatlLineRate, list(Lowner=df$Lowner,Date=df$Date), mean, na.rm=TRUE)
aggregate(df$ControlledCirculation,list(Lowner=df$Lowner,Date=df$Date),mean,na.rm=TRUE)
##Mean CompeitionMeasure By Lowner ####
aggregate(df$CompetitorFreeCirculation,list(Lowner=df$Lowner,Date=df$Date),mean,na.rm=TRUE)
##Mean CompeitionMeasure By Corporation
aggregate(df$CompetitionFreeMeasure,list(Corporation=df$Corporation,Date=df$Date),mean,na.rm=TRUE)
x=dplyr::select(df,CompetitionFreeMeasure,CorDummy,ControlledCirculation,NatlLineRate,TotalFreeCirculationByMarket,'Age characteristics Average age of the population Character','Labour force status Employment rate Character','Population and dwellings Population density per square kilometre Character','Population and dwellings Population; 2016 Character','Income of individuals in 2015 Average total income in 2015 among recipients ($) Character',PercentageTotalShare,RateByCirculation,
'Family characteristics Total - Census families in private households by family size - 100% data Character')
z=cor(x,use = "pairwise.complete.obs")
write.csv(z, "C:/Users/lenovo/Dropbox/IO project/SummaryStatistics/RegressionResult/CorMatrix.csv")
library("readxl")
library("xlsx")
library("plyr")
library("dplyr")
library(magrittr)
library("Hmisc")
library("raster")
library("data.table")
df=read_excel("C:/Users/lenovo/Dropbox/IO project/PerfectFuzzyDataL/SufficentVariationOrNotEntryExit/MergedWithTotalFreeShareNoBundle/FreeContainBothNoBundleFreeNewspaperCompetitionMeasureMergedOneIssuePerWeekDemographic.xlsx")
count(df,"Lowner")
count(df,"Market")
df$Corporation=df$Lowner=="metroland media group ltd."|df$Lowner=="london publishing corporation"|df$Lowner=="postmedia network inc."|df$Lowner=="sun media corporation"
df$CorDummy=0
df$CorDummy[df$Corporation]=1
df$PercentageTotalShare=df$ControlledCirculation/df$TotalFreeCirculationByMarket
df$PercentageTotalShare=replace(df$PercentageTotalShare, is.nan(df$PercentageTotalShare), NA)
df$PercentageTotalShare[df$PercentageTotalShare>1] = 1
df$RateByCirculation=df$NatlLineRate/df$ControlledCirculation
df$RateByCirculation=replace(df$RateByCirculation,is.infinite(df$RateByCirculation),NA)
df$CompetitionFreeMeasure=df$CompetitorFreeCirculation/df$'Family characteristics Total - Census families in private households by family size - 100% data Character'
aggregate(df$NatlLineRate, list(Corporation=df$Corporation,Date=df$Date), mean, na.rm=TRUE)
aggregate(df$ControlledCirculation,list(Corporation=df$Corporation,Date=df$Date),mean,na.rm=TRUE)
aggregate(df$NatlLineRate, list(Lowner=df$Lowner,Date=df$Date), mean, na.rm=TRUE)
aggregate(df$ControlledCirculation,list(Lowner=df$Lowner,Date=df$Date),mean,na.rm=TRUE)
##Mean CompeitionMeasure By Lowner ####
aggregate(df$CompetitorFreeCirculation,list(Lowner=df$Lowner,Date=df$Date),mean,na.rm=TRUE)
##Mean CompeitionMeasure By Corporation
aggregate(df$CompetitionFreeMeasure,list(Corporation=df$Corporation,Date=df$Date),mean,na.rm=TRUE)
x=dplyr::select(df,CompetitionFreeMeasure,CorDummy,ControlledCirculation,NatlLineRate,TotalFreeCirculationByMarket,'Age characteristics Average age of the population Character','Labour force status Employment rate Character','Population and dwellings Population density per square kilometre Character','Population and dwellings Population; 2016 Character','Income of individuals in 2015 Average total income in 2015 among recipients ($) Character',PercentageTotalShare,RateByCirculation,
'Family characteristics Total - Census families in private households by family size - 100% data Character')
z=cor(x,use = "pairwise.complete.obs")
write.csv(z, "C:/Users/lenovo/Dropbox/IO project/SummaryStatistics/RegressionResult/CorMatrix.csv")
library("readxl")
library("xlsx")
library("plyr")
library("dplyr")
library(magrittr)
library("Hmisc")
library("raster")
library("data.table")
df=read_excel("C:/Users/lenovo/Dropbox/IO project/PerfectFuzzyDataL/SufficentVariationOrNotEntryExit/MergedWithTotalFreeShareNoBundle/FreeContainBothNoBundleFreeNewspaperCompetitionMeasureMergedOneIssuePerWeekDemographic.xlsx")
count(df,"Lowner")
count(df,"Market")
df$Corporation=df$Lowner=="metroland media group ltd."|df$Lowner=="london publishing corporation"|df$Lowner=="postmedia network inc."|df$Lowner=="sun media corporation"
df$CorDummy=0
df$CorDummy[df$Corporation]=1
df$PercentageTotalShare=df$ControlledCirculation/df$TotalFreeCirculationByMarket
df$PercentageTotalShare=replace(df$PercentageTotalShare, is.nan(df$PercentageTotalShare), NA)
df$PercentageTotalShare[df$PercentageTotalShare>1] = 1
df$RateByCirculation=df$NatlLineRate/df$ControlledCirculation
df$RateByCirculation=replace(df$RateByCirculation,is.infinite(df$RateByCirculation),NA)
df$CompetitionFreeMeasure=df$CompetitorFreeCirculation/df$'Family characteristics Total - Census families in private households by family size - 100% data Character'
# Extend Demographic Characteristics
df$PercentMover=df$'Mobility status - Place of residence 1 year ago Movers Character'/df$'Population and dwellings Population; 2016 Character'
aggregate(df$NatlLineRate, list(Corporation=df$Corporation,Date=df$Date), mean, na.rm=TRUE)
aggregate(df$ControlledCirculation,list(Corporation=df$Corporation,Date=df$Date),mean,na.rm=TRUE)
aggregate(df$NatlLineRate, list(Lowner=df$Lowner,Date=df$Date), mean, na.rm=TRUE)
aggregate(df$ControlledCirculation,list(Lowner=df$Lowner,Date=df$Date),mean,na.rm=TRUE)
##Mean CompeitionMeasure By Lowner ####
aggregate(df$CompetitorFreeCirculation,list(Lowner=df$Lowner,Date=df$Date),mean,na.rm=TRUE)
##Mean CompeitionMeasure By Corporation
aggregate(df$CompetitionFreeMeasure,list(Corporation=df$Corporation,Date=df$Date),mean,na.rm=TRUE)
x=dplyr::select(df,PercentMover,'Income of individuals in 2015 Average total income in 2015 among recipients ($) Character',CompetitionFreeMeasure,CorDummy,ControlledCirculation,NatlLineRate,TotalFreeCirculationByMarket,'Age characteristics Average age of the population Character','Labour force status Employment rate Character','Population and dwellings Population density per square kilometre Character','Population and dwellings Population; 2016 Character','Income of individuals in 2015 Average total income in 2015 among recipients ($) Character',PercentageTotalShare,RateByCirculation,
'Family characteristics Total - Census families in private households by family size - 100% data Character')
z=cor(x,use = "pairwise.complete.obs")
write.csv(z, "C:/Users/lenovo/Dropbox/IO project/SummaryStatistics/RegressionResult/CorMatrix.csv")
aggregate(df$NatlLineRate, list(Date=df$Date), mean, na.rm=TRUE)
aggregate(df$ControlledCirculation,list(Date=df$Date),mean,na.rm=TRUE)
library("readxl")
library("xlsx")
library("plyr")
library("dplyr")
library(magrittr)
library("Hmisc")
library("raster")
library("data.table")
df=read_excel("C:/Users/lenovo/Dropbox/IO project/PerfectFuzzyDataL/SufficentVariationOrNotEntryExit/MergedWithTotalFreeShareNoBundle/FreeContainBothNoBundleFreeNewspaperCompetitionMeasureMergedOneIssuePerWeekDemographic.xlsx")
count(df,"Lowner")
count(df,"Market")
df$Corporation=df$Lowner=="metroland media group ltd."|df$Lowner=="london publishing corporation"|df$Lowner=="postmedia network inc."|df$Lowner=="sun media corporation"
df$CorDummy=0
df$CorDummy[df$Corporation]=1
df$PercentageTotalShare=df$ControlledCirculation/df$TotalFreeCirculationByMarket
df$PercentageTotalShare=replace(df$PercentageTotalShare, is.nan(df$PercentageTotalShare), NA)
df$PercentageTotalShare[df$PercentageTotalShare>1] = 1
df$RateByCirculation=df$NatlLineRate/df$ControlledCirculation
df$RateByCirculation=replace(df$RateByCirculation,is.infinite(df$RateByCirculation),NA)
df$CompetitionFreeMeasure=df$CompetitorFreeCirculation/df$'Family characteristics Total - Census families in private households by family size - 100% data Character'
# Extend Demographic Characteristics
df$PercentMover=df$'Mobility status - Place of residence 1 year ago Movers Character'/df$'Population and dwellings Population; 2016 Character'
aggregate(df$NatlLineRate, list(Corporation=df$Corporation,Date=df$Date), mean, na.rm=TRUE)
aggregate(df$ControlledCirculation,list(Corporation=df$Corporation,Date=df$Date),mean,na.rm=TRUE)
aggregate(df$NatlLineRate, list(Lowner=df$Lowner,Date=df$Date), mean, na.rm=TRUE)
aggregate(df$ControlledCirculation,list(Lowner=df$Lowner,Date=df$Date),mean,na.rm=TRUE)
##Mean CompeitionMeasure By Lowner ####
aggregate(df$CompetitorFreeCirculation,list(Lowner=df$Lowner,Date=df$Date),mean,na.rm=TRUE)
##Mean CompeitionMeasure By Corporation
aggregate(df$CompetitionFreeMeasure,list(Corporation=df$Corporation,Date=df$Date),mean,na.rm=TRUE)
x=dplyr::select(df,PercentMover,'Income of individuals in 2015 Average total income in 2015 among recipients ($) Character',CompetitionFreeMeasure,CorDummy,ControlledCirculation,NatlLineRate,TotalFreeCirculationByMarket,'Age characteristics Average age of the population Character','Labour force status Employment rate Character','Population and dwellings Population density per square kilometre Character','Population and dwellings Population; 2016 Character','Income of individuals in 2015 Average total income in 2015 among recipients ($) Character',PercentageTotalShare,RateByCirculation,
'Family characteristics Total - Census families in private households by family size - 100% data Character')
z=cor(x,use = "pairwise.complete.obs")
write.csv(z, "C:/Users/lenovo/Dropbox/IO project/SummaryStatistics/RegressionResult/CorMatrix.csv")
aggregate(df$NatlLineRate, list(Date=df$Date), mean, na.rm=TRUE)
aggregate(df$ControlledCirculation,list(Date=df$Date),mean,na.rm=TRUE)
aggregate(df$NatlLineRate, list(Corporation=df$Corporation,Date=df$Date), mean, na.rm=TRUE)
aggregate(df$ControlledCirculation,list(Corporation=df$Corporation,Date=df$Date),mean,na.rm=TRUE)
